<odoo>

    <record id="view_quotation_form_inherit_id" model="ir.ui.view">
        <field name="name">view.quotation.form.inherit</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_form"/>
        <field name="arch" type="xml">
            <button name="action_quotation_send" position="after">
                <button name="button_prepare" string="En preparation" type="object"
                        attrs="{'invisible': [('order_state', 'not in', ['CONFIRMED'])]}"/>

                <button name="button_in_delivery" string="En livraison" type="object"
                        attrs="{'invisible': [('order_state', 'not in', ['NOT_PAID_PREPARED'])]}"/>

                <button name="button_delivered" string="Livrée" type="object"
                        attrs="{'invisible': [('order_state', 'not in', ['NOT_PAID_IN_DELIVERY', 'NOT_PAID_PREPARED'])]}"/>

            </button>
            <!--            <header>-->
            <!--                <button name="action_quotation_send" string="Send by Email" type="object"-->
            <!--                        attrs="{'invisible': [('state', 'not in', ['validate'])]}"-->
            <!--                        class="btn-primary" data-hotkey="g"/>-->

            <!--                <button name="action_confirm" data-hotkey="v" string="Confirm" type="object"-->
            <!--                        attrs="{'invisible': [('state', 'in', ['draft','sale','sent'])]}"/>-->


            <!--                <xpath expr="/form/header/field[@name='state']" position="replace">-->
            <!--                    <field name="state" widget="statusbar" statusbar_visible="draft,validate,sent,sale"/>-->
            <!--                </xpath>-->
            <!--            </header>-->
            <!--            <field name="user_id" position="after">-->
            <!--                <field name="last_updater"/>-->
            <!--            </field>-->
            <!--            <button name="action_quotation_send" position="after">-->
            <!--                <button name="validate_button" string="Validate" type="object"-->
            <!--                        attrs="{'invisible': [('state', 'not in', ['draft'])]}"/>-->
            <!--            </button>-->
            <div name="button_box" position="after">
                <!--                <field name="accepted" invisible="1"/>-->
                <field name="order_state" invisible="1"/>
                <!--                <widget name="web_ribbon" title="Accepted"-->
                <!--                        attrs="{'invisible': [('accepted', '=', False)]}"/>-->
                <widget name="web_ribbon" title="Livrée"
                        attrs="{'invisible': [('order_state', '!=', 'PAID_DELIVERED')]}"/>

                <widget name="web_ribbon" title="En attente du client" bg_color="bg-info"
                        attrs="{'invisible': [('order_state', '!=', 'WAITING_FOR_CLIENT')]}"/>

                <widget name="web_ribbon" title="En cours de livraison" bg_color="bg-info"
                        attrs="{'invisible': [('order_state', '!=', 'NOT_PAID_IN_DELIVERY')]}"/>

                <widget name="web_ribbon" title="En préparation" bg_color="bg-info"
                        attrs="{'invisible': [('order_state', '!=', 'NOT_PAID_PREPARED')]}"/>

                <widget name="web_ribbon" title="En attente" bg_color="bg-info"
                        attrs="{'invisible': [('order_state', '!=', 'NOT_PAID')]}"/>

                <widget name="web_ribbon" title="Client ne repond pas" bg_color="bg-warning"
                        attrs="{'invisible': [('order_state', '!=', 'CLIENT_NOT_RESPONDING')]}"/>

                <widget name="web_ribbon" title="Confirmée"
                        attrs="{'invisible': [('order_state', '!=', 'CONFIRMED')]}"/>

                <widget name="web_ribbon" title="En attente du payment" bg_color="bg-info"
                        attrs="{'invisible': [('order_state', '!=', 'NOT_PAID_NOT_DELIVERY')]}"/>

                <widget name="web_ribbon" title="Payée"
                        attrs="{'invisible': [('order_state', '!=', 'PAID_NOT_DELIVERED')]}"/>

                <widget name="web_ribbon" title="Paiement échoué" bg_color="bg-danger"
                        attrs="{'invisible': [('order_state', '!=', 'PAID_FAILED_NOT_DELIVERED')]}"/>

                <widget name="web_ribbon" title="En attente" bg_color="bg-info"
                        attrs="{'invisible': [('order_state', '!=', 'CREATED')]}"/>
            </div>
        </field>
    </record>
</odoo>